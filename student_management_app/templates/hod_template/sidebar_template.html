{% load static %}

<aside class="main-sidebar sidebar-dark-primary elevation-4" style="background: #1e2a38;">
  <!-- Brand Logo -->
  <a href="{% url 'admin_home' %}" class="brand-link text-center" style="background: #0d6efd;">
    <img src="{% static 'dist/img/school logo.jpg' %}" 
         alt="Exalted School Logo" 
         class="brand-image img-circle elevation-3"
         style="opacity: .9; width: 45px; height: 45px;">
    <span class="brand-text font-weight-bold text-white ml-2">Exalted School</span>
  </a>

  <!-- Sidebar -->
  <div class="sidebar">
    <!-- Sidebar user panel -->
    <div class="user-panel mt-3 pb-3 mb-3 d-flex align-items-center">
      <div class="image">
        <img src="{% static 'dist/img/tiger.jpg' %}" class="img-circle elevation-2" alt="User Image">
      </div>
      <div class="info">
        <a href="{% url 'admin_profile' %}" class="d-block text-white font-weight-bold">
          {{ user.first_name }} {{ user.last_name }}
        </a>
        <small class="text-muted">Administrator</small>
      </div>
    </div>

    <!-- Sidebar Menu -->
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

        <li class="nav-item">
          {% url 'admin_home' as admin_home %}
          <a href="{{ admin_home }}" class="nav-link {% if request.path == admin_home %} active {% endif %}">
            <i class="nav-icon fas fa-tachometer-alt text-info"></i>
            <p>Dashboard</p>
          </a>
        </li>

        <li class="nav-header text-secondary">STAFF MANAGEMENT</li>
        <li class="nav-item">
          {% url 'manage_staff' as manage_staff %}
          <a href="{{ manage_staff }}" class="nav-link {% if request.path == manage_staff %} active {% endif %}">
            <i class="nav-icon fas fa-users-cog text-warning"></i>
            <p>Manage Staff</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'add_staff' as add_staff %}
          <a href="{{ add_staff }}" class="nav-link {% if request.path == add_staff %} active {% endif %}">
            <i class="nav-icon fas fa-user-plus text-success"></i>
            <p>Add Staff</p>
          </a>
        </li>

        <li class="nav-header text-secondary">STUDENT MANAGEMENT</li>
        <li class="nav-item">
          {% url 'manage_student' as manage_student %}
          <a href="{{ manage_student }}" class="nav-link {% if request.path == manage_student %} active {% endif %}">
            <i class="nav-icon fas fa-user-graduate text-info"></i>
            <p>Manage Students</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'add_student' as add_student %}
          <a href="{{ add_student }}" class="nav-link {% if request.path == add_student %} active {% endif %}">
            <i class="nav-icon fas fa-user-plus text-success"></i>
            <p>Add Student</p>
          </a>
        </li>

        <li class="nav-header text-secondary">COURSE & SUBJECTS</li>
        <li class="nav-item">
          {% url 'manage_course' as manage_course %}
          <a href="{{ manage_course }}" class="nav-link {% if request.path == manage_course %} active {% endif %}">
            <i class="nav-icon fas fa-book-open text-primary"></i>
            <p>Manage Courses</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'add_course' as add_course %}
          <a href="{{ add_course }}" class="nav-link {% if request.path == add_course %} active {% endif %}">
            <i class="nav-icon fas fa-plus-square text-success"></i>
            <p>Add Course</p>
          </a>
        </li>

        <li class="nav-item">
          {% url 'manage_subject' as manage_subject %}
          <a href="{{ manage_subject }}" class="nav-link {% if request.path == manage_subject %} active {% endif %}">
            <i class="nav-icon fas fa-book text-warning"></i>
            <p>Manage Subjects</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'add_subject' as add_subject %}
          <a href="{{ add_subject }}" class="nav-link {% if request.path == add_subject %} active {% endif %}">
            <i class="nav-icon fas fa-plus-circle text-success"></i>
            <p>Add Subject</p>
          </a>
        </li>

        <li class="nav-header text-secondary">SESSION & ATTENDANCE</li>
        <li class="nav-item">
          {% url 'manage_session' as manage_session %}
          <a href="{{ manage_session }}" class="nav-link {% if request.path == manage_session %} active {% endif %}">
            <i class="nav-icon fas fa-calendar-alt text-info"></i>
            <p>Manage Sessions</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'add_session' as add_session %}
          <a href="{{ add_session }}" class="nav-link {% if request.path == add_session %} active {% endif %}">
            <i class="nav-icon fas fa-plus text-success"></i>
            <p>Add Session</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'admin_view_attendance' as admin_view_attendance %}
          <a href="{{ admin_view_attendance }}" class="nav-link {% if request.path == admin_view_attendance %} active {% endif %}">
            <i class="nav-icon fas fa-check-circle text-primary"></i>
            <p>View Attendance</p>
          </a>
        </li>

        <li class="nav-header text-secondary">FEEDBACK & LEAVE</li>
        <li class="nav-item">
          {% url 'student_feedback_message' as student_feedback_message %}
          <a href="{{ student_feedback_message }}" class="nav-link {% if request.path == student_feedback_message %} active {% endif %}">
            <i class="nav-icon fas fa-comment text-warning"></i>
            <p>Student Feedback</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'staff_feedback_message' as staff_feedback_message %}
          <a href="{{ staff_feedback_message }}" class="nav-link {% if request.path == staff_feedback_message %} active {% endif %}">
            <i class="nav-icon fas fa-comments text-success"></i>
            <p>Staff Feedback</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'student_leave_view' as student_leave_view %}
          <a href="{{ student_leave_view }}" class="nav-link {% if request.path == student_leave_view %} active {% endif %}">
            <i class="nav-icon fas fa-plane-departure text-info"></i>
            <p>Student Leave</p>
          </a>
        </li>
        <li class="nav-item">
          {% url 'staff_leave_view' as staff_leave_view %}
          <a href="{{ staff_leave_view }}" class="nav-link {% if request.path == staff_leave_view %} active {% endif %}">
            <i class="nav-icon fas fa-plane text-primary"></i>
            <p>Staff Leave</p>
          </a>
        </li>

        <li class="nav-header text-secondary">SYSTEM</li>
        <li class="nav-item">
          <a href="{% url 'logout_user' %}" class="nav-link text-danger">
            <i class="nav-icon fas fa-sign-out-alt"></i>
            <p>Logout</p>
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Footer inside sidebar -->
  <div class="text-center text-muted small p-2" style="border-top: 1px solid #3a4a5a;">
    <p class="m-0">Â© {% now "Y" %} Exalted School</p>
    <p class="m-0">Developed by <b>Kipngenoh Aaron Rotich</b></p>
  </div>
</aside>
