{% extends 'base.html' %}
{% load static %}

{% block content %}

<body class="hold-transition login-page bg-gradient-light" style="font-family: 'Poppins', sans-serif;">

<div class="login-box shadow-lg" style="border-radius: 15px; overflow: hidden;">
  <!-- Logo and Branding -->
  <div class="login-logo mt-3">
    <div class="image mb-3">
      <img src="{% static 'dist/img/school logo.jpg' %}" 
           class="img-circle elevation-3 shadow-sm" 
           alt="Exalted School Logo" 
           width="110" height="110"
           style="border:3px solid #007bff; padding:5px; background:white;">
    </div>
    <a href="{% url 'login' %}" style="color: #007bff; font-weight: 700; font-size: 22px;">
      <b>Exalted School</b><br>
      <span style="font-size: 14px; color: #6c757d;">Smart Student Attendance System</span>
    </a>
  </div>

  <!-- Login Card -->
  <div class="card border-0" style="border-radius: 15px;">
    <div class="card-body login-card-body">
      <p class="login-box-msg text-muted">Sign in to your account</p>

      <!-- Login Form -->
      <form action="{% url 'doLogin' %}" method="POST" autocomplete="off">
        {% csrf_token %}
        <div class="input-group mb-3">
          <input type="email" class="form-control" placeholder="Email Address" name="email" required>
          <div class="input-group-append">
            <div class="input-group-text bg-primary text-white">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>

        <div class="input-group mb-3">
          <input type="password" class="form-control" placeholder="Password" name="password" required>
          <div class="input-group-append">
            <div class="input-group-text bg-primary text-white">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>

        <!-- Remember and Help Row -->
        <div class="row mt-3">
          <div class="col-6">
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="rememberMe">
              <label class="form-check-label small" for="rememberMe">Remember Me</label>
            </div>
          </div>
          <div class="col-6 text-right">
            <a href="#" class="text-secondary small" data-toggle="modal" data-target="#helpModal">Need Help?</a>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="col-12 mt-3">
          <button type="submit" class="btn btn-primary btn-block shadow-sm" style="font-weight:600;">Sign In</button>
        </div>
      </form>

      <!-- Display Messages -->
      {% if messages %}
        <div class="col-12 mt-3">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="close" data-dismiss="alert">&times;</button>
            </div>
          {% endfor %}
        </div>
      {% endif %}

      <!-- Developer Link -->
      <div class="social-auth-links text-center mt-4 mb-3">
        <p class="text-muted mb-2">- OR -</p>
        <a href="https://github.com/kipngenohaaron" class="btn btn-dark btn-block">
          <i class="fab fa-github mr-2"></i> Visit Developer's GitHub
        </a>
      </div>
    </div>
  </div>
  <!-- <img src="static/dist/img/schools.jpg" class="img-fluid" alt="Empty" style="width: 80%; border-radius: 200px;
  margin-top: -5px;"> -->
  <!-- Footer -->
  <footer class="text-center mt-4 mb-2 text-muted">
    <small>
      ¬© {% now "Y" %} Exalted School Student Attendance System<br>
      Developed by <b>Kipngenoh Aaron Rotich</b><br>
      <a href="mailto:kipngenohaaron@gmail.com">Kipngenohaaron@gmail.com</a> |
      <a href="tel:0724828197">0724828197</a> / <a href="tel:0724279400">0724279400</a>
    </small>
  </footer>
</div>

<!-- Help Modal -->
<div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="helpModalLabel">Need Help?</h5>
        <button type="button" class="close text-white" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body text-center">
        <p>For support, contact the system administrator:</p>
        <p><strong>Kipngenoh Aaron Rotich</strong><br>
          üìß <a href="mailto:kipngenohaaron@gmail.com">kipngenohaaron@gmail.com</a><br>
          ‚òéÔ∏è 0724828197 / 0724279400
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Custom CSS -->
<style>
  .login-logo img:hover {
    transform: scale(1.05);
    transition: 0.3s ease-in-out;
  }
  .btn-primary:hover {
    background-color: #0056b3 !important;
    transform: scale(1.02);
    transition: 0.2s ease-in-out;
  }
</style>

</body>

{% endblock %}
